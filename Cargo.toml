cargo-features = ["profile-rustflags"]

[package]
name = "zenix"
build = "meta/multiboot_build.rs"
version.workspace = true
license.workspace = true

[workspace.package]
version = "0.1.0"
license = "GLPv2"

[[bin]]
name = "zenix"
path = "meta/qemu.rs"

[build-dependencies]
kernel = { path = "kernel", artifact = "bin", target = "x86_64-unknown-none" }

[workspace]
resolver = "2"
members = [
	"pre-kernel",
	"kernel",

	"libraries/essentials",
	"libraries/x86_64",
]

[workspace.dependencies]
essentials = { path = "libraries/essentials" }
x86_64 = { path = "libraries/x86_64" }

[profile.pre-kernel-debug]
inherits = "release"
debug = true
split-debuginfo = "packed"
